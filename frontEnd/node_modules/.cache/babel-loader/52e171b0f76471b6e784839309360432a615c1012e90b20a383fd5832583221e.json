{"ast":null,"code":"import _slicedToArray from\"D:/React/projectArs/ARS_web/frontEnd/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useContext,useEffect,useState}from\"react\";import{auth}from\"../firebase\";import{createUserWithEmailAndPassword,signInWithEmailAndPassword,signOut,onAuthStateChanged,GoogleAuthProvider,signInWithPopup,sendPasswordResetEmail,RecaptchaVerifier,signInWithPhoneNumber}from\"firebase/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";var userContext=/*#__PURE__*/createContext();export var UserContext=function UserContext(_ref){var children=_ref.children;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var signUp=function signUp(email,password){return createUserWithEmailAndPassword(auth,email,password);};var signin=function signin(email,password){return signInWithEmailAndPassword(auth,email,password);};var logout=function logout(){return signOut(auth);};var googleSignIn=function googleSignIn(){var googleAuthProvider=new GoogleAuthProvider();return signInWithPopup(auth,googleAuthProvider);};var ResetPasswordwithEmail=function ResetPasswordwithEmail(email){console.log(email);return sendPasswordResetEmail(auth,email);};var recaptchaVerifier=function recaptchaVerifier(number){var recaptcha=new RecaptchaVerifier('recaptcha-container',{'size':'invisible','callback':function callback(response){console.log(response,\"recaptchaVerifierResponse\");},'expired-callback':function expiredCallback(){// Response expired. Ask user to solve reCAPTCHA again.\n// ...\n}},auth);recaptcha.render().then(function(id){console.log(id,\"widgetId\");});return signInWithPhoneNumber(auth,number,recaptcha);};useEffect(function(){var onAuthStateChange=onAuthStateChanged(auth,function(currentUser){console.log(\"Auth\",currentUser);setUser(currentUser);});return function(){onAuthStateChange();};},[]);return/*#__PURE__*/_jsx(userContext.Provider,{value:{user:user,signUp:signUp,signin:signin,logout:logout,googleSignIn:googleSignIn,ResetPasswordwithEmail:ResetPasswordwithEmail,recaptchaVerifier:recaptchaVerifier},children:children});};export var useCustomContext=function useCustomContext(){return useContext(userContext);};","map":{"version":3,"names":["React","createContext","useContext","useEffect","useState","auth","createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","onAuthStateChanged","GoogleAuthProvider","signInWithPopup","sendPasswordResetEmail","RecaptchaVerifier","signInWithPhoneNumber","userContext","UserContext","children","user","setUser","signUp","email","password","signin","logout","googleSignIn","googleAuthProvider","ResetPasswordwithEmail","console","log","recaptchaVerifier","number","recaptcha","response","render","then","id","onAuthStateChange","currentUser","useCustomContext"],"sources":["D:/React/projectArs/ARS_web/frontEnd/src/context/UserContext.js"],"sourcesContent":["import React, { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { auth } from \"../firebase\";\r\n\r\nimport {\r\n    createUserWithEmailAndPassword,\r\n    signInWithEmailAndPassword,\r\n    signOut,\r\n    onAuthStateChanged,\r\n    GoogleAuthProvider,\r\n    signInWithPopup,\r\n    sendPasswordResetEmail,\r\n    RecaptchaVerifier,\r\n    signInWithPhoneNumber\r\n} from \"firebase/auth\"\r\n\r\nconst userContext = createContext();\r\n\r\nexport const UserContext = ({ children }) => {\r\n\r\n    const [user, setUser] = useState({});\r\n\r\n    const signUp = (email, password) => {\r\n        return createUserWithEmailAndPassword(auth, email, password);\r\n    }\r\n\r\n    const signin = (email, password) => {\r\n        return signInWithEmailAndPassword(auth, email, password);\r\n    }\r\n\r\n    const logout = () => {\r\n        return signOut(auth);\r\n    }\r\n\r\n    const googleSignIn = () => {\r\n        const googleAuthProvider = new GoogleAuthProvider();\r\n        return signInWithPopup(auth, googleAuthProvider);\r\n    }\r\n\r\n    const ResetPasswordwithEmail = (email) => {\r\n        console.log(email);\r\n        return sendPasswordResetEmail(auth, email);\r\n    }\r\n\r\n    const recaptchaVerifier = (number) => {\r\n        const recaptcha = new RecaptchaVerifier('recaptcha-container', {\r\n            'size': 'invisible',\r\n            'callback': (response) => {\r\n                console.log(response, \"recaptchaVerifierResponse\");\r\n            },\r\n            'expired-callback': () => {\r\n                // Response expired. Ask user to solve reCAPTCHA again.\r\n                // ...\r\n            }\r\n        }, auth);\r\n        recaptcha.render().then((id)=>{\r\n            console.log(id,\"widgetId\");\r\n        });\r\n        return signInWithPhoneNumber(auth, number, recaptcha);\r\n    }\r\n\r\n    useEffect(() => {\r\n        const onAuthStateChange = onAuthStateChanged(auth, (currentUser) => {\r\n            console.log(\"Auth\", currentUser);\r\n            setUser(currentUser);\r\n        })\r\n\r\n        return () => {\r\n            onAuthStateChange();\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <userContext.Provider value={{ user, signUp, signin, logout, googleSignIn, ResetPasswordwithEmail, recaptchaVerifier }}>\r\n            {children}\r\n        </userContext.Provider>\r\n    )\r\n}\r\n\r\nexport const useCustomContext = () => {\r\n    return useContext(userContext);\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}